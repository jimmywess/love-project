/* Heart idle pulse */
.heart.is-active:not(.is-complete) {
  animation: heart-pulse 2.4s ease-in-out infinite;
}

@keyframes heart-pulse {
  0% {
    transform: scale(1);
    opacity: 0.95;
  }
  50% {
    transform: scale(1.04);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0.95;
  }
}

/* Progressive emphasis (can be re-applied as state changes) */
.heart.is-emphasized:not(.is-complete) {
  animation: heart-emphasis 0.6s ease-out;
}

@keyframes heart-emphasis {
  0% {
    transform: scale(1);
  }
  40% {
    transform: scale(1.06);
  }
  100% {
    transform: scale(1);
  }
}

/* Completion burst (overrides all other animations) */
.heart.is-complete {
  animation: heart-complete 0.9s ease-out forwards;
}

@keyframes heart-complete {
  0% {
    transform: scale(1);
    opacity: 1;
    filter: brightness(1);
  }
  40% {
    transform: scale(1.18);
    opacity: 1;
    filter: brightness(1.2);
  }
  70% {
    transform: scale(1.1);
    opacity: 0.9;
    filter: brightness(1.4);
  }
  100% {
    transform: scale(0.9);
    opacity: 0;
    filter: brightness(1.6);
  }
}

/* Adaptive heartbeat speeds */
.heart[data-beat="slow"] {
  animation-duration: 2.8s;
}

.heart[data-beat="normal"] {
  animation-duration: 2s;
}

.heart[data-beat="fast"] {
  animation-duration: 1.4s;
}
